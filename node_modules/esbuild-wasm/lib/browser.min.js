(module=>{
"use strict";var ve=Object.defineProperty;var ze=Object.getOwnPropertyDescriptor;var Ke=Object.getOwnPropertyNames;var _e=Object.prototype.hasOwnProperty;var Ve=(t,e)=>{for(var n in e)ve(t,n,{get:e[n],enumerable:!0})},Ye=(t,e,n,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let u of Ke(e))!_e.call(t,u)&&u!==n&&ve(t,u,{get:()=>e[u],enumerable:!(i=ze(e,u))||i.enumerable});return t};var Je=t=>Ye(ve({},"__esModule",{value:!0}),t);var te=(t,e,n)=>new Promise((i,u)=>{var l=p=>{try{s(n.next(p))}catch(w){u(w)}},f=p=>{try{s(n.throw(p))}catch(w){u(w)}},s=p=>p.done?i(p.value):Promise.resolve(p.value).then(l,f);s((n=n.apply(t,e)).next())});var we={};Ve(we,{analyzeMetafile:()=>dt,analyzeMetafileSync:()=>yt,build:()=>at,buildSync:()=>pt,context:()=>ut,default:()=>wt,formatMessages:()=>ft,formatMessagesSync:()=>mt,initialize:()=>ht,transform:()=>ct,transformSync:()=>gt,version:()=>ot});module.exports=Je(we);function Oe(t){let e=i=>{if(i===null)n.write8(0);else if(typeof i=="boolean")n.write8(1),n.write8(+i);else if(typeof i=="number")n.write8(2),n.write32(i|0);else if(typeof i=="string")n.write8(3),n.write(Z(i));else if(i instanceof Uint8Array)n.write8(4),n.write(i);else if(i instanceof Array){n.write8(5),n.write32(i.length);for(let u of i)e(u)}else{let u=Object.keys(i);n.write8(6),n.write32(u.length);for(let l of u)n.write(Z(l)),e(i[l])}},n=new pe;return n.write32(0),n.write32(t.id<<1|+!t.isRequest),e(t.value),Re(n.buf,n.len-4,0),n.buf.subarray(0,n.len)}function ke(t){let e=()=>{switch(n.read8()){case 0:return null;case 1:return!!n.read8();case 2:return n.read32();case 3:return ie(n.read());case 4:return n.read();case 5:{let f=n.read32(),s=[];for(let p=0;p<f;p++)s.push(e());return s}case 6:{let f=n.read32(),s={};for(let p=0;p<f;p++)s[ie(n.read())]=e();return s}default:throw new Error("Invalid packet")}},n=new pe(t),i=n.read32(),u=(i&1)===0;i>>>=1;let l=e();if(n.ptr!==t.length)throw new Error("Invalid packet");return{id:i,isRequest:u,value:l}}var pe=class{constructor(e=new Uint8Array(1024)){this.buf=e;this.len=0;this.ptr=0}_write(e){if(this.len+e>this.buf.length){let n=new Uint8Array((this.len+e)*2);n.set(this.buf),this.buf=n}return this.len+=e,this.len-e}write8(e){let n=this._write(1);this.buf[n]=e}write32(e){let n=this._write(4);Re(this.buf,e,n)}write(e){let n=this._write(4+e.length);Re(this.buf,e.length,n),this.buf.set(e,n+4)}_read(e){if(this.ptr+e>this.buf.length)throw new Error("Invalid packet");return this.ptr+=e,this.ptr-e}read8(){return this.buf[this._read(1)]}read32(){return Ee(this.buf,this._read(4))}read(){let e=this.read32(),n=new Uint8Array(e),i=this._read(n.length);return n.set(this.buf.subarray(i,i+e)),n}},Z,ie,xe;if(typeof TextEncoder!="undefined"&&typeof TextDecoder!="undefined"){let t=new TextEncoder,e=new TextDecoder;Z=n=>t.encode(n),ie=n=>e.decode(n),xe='new TextEncoder().encode("")'}else if(typeof Buffer!="undefined")Z=t=>Buffer.from(t),ie=t=>{let{buffer:e,byteOffset:n,byteLength:i}=t;return Buffer.from(e,n,i).toString()},xe='Buffer.from("")';else throw new Error("No UTF-8 codec found");if(!(Z("")instanceof Uint8Array))throw new Error(`Invariant violation: "${xe} instanceof Uint8Array" is incorrectly false

This indicates that your JavaScript environment is broken. You cannot use
esbuild in this environment because esbuild relies on this invariant. This
is not a problem with esbuild. You need to fix your environment instead.
`);function Ee(t,e){return t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24}function Re(t,e,n){t[n++]=e,t[n++]=e>>8,t[n++]=e>>16,t[n++]=e>>24}var V=JSON.stringify,$e="warning",Me="silent";function Ce(t){if(J(t,"target"),t.indexOf(",")>=0)throw new Error(`Invalid target: ${t}`);return t}var ye=()=>null,I=t=>typeof t=="boolean"?null:"a boolean",h=t=>typeof t=="string"?null:"a string",he=t=>t instanceof RegExp?null:"a RegExp object",oe=t=>typeof t=="number"&&t===(t|0)?null:"an integer",Pe=t=>typeof t=="function"?null:"a function",z=t=>Array.isArray(t)?null:"an array",ee=t=>typeof t=="object"&&t!==null&&!Array.isArray(t)?null:"an object",He=t=>typeof t=="object"&&t!==null?null:"an array or an object",Ge=t=>t instanceof WebAssembly.Module?null:"a WebAssembly.Module",Ae=t=>typeof t=="object"&&!Array.isArray(t)?null:"an object or null",Fe=t=>typeof t=="string"||typeof t=="boolean"?null:"a string or a boolean",Xe=t=>typeof t=="string"||typeof t=="object"&&t!==null&&!Array.isArray(t)?null:"a string or an object",Ze=t=>typeof t=="string"||Array.isArray(t)?null:"a string or an array",Te=t=>typeof t=="string"||t instanceof Uint8Array?null:"a string or a Uint8Array",et=t=>typeof t=="string"||t instanceof URL?null:"a string or a URL";function r(t,e,n,i){let u=t[n];if(e[n+""]=!0,u===void 0)return;let l=i(u);if(l!==null)throw new Error(`${V(n)} must be ${l}`);return u}function K(t,e,n){for(let i in t)if(!(i in e))throw new Error(`Invalid option ${n}: ${V(i)}`)}function Be(t){let e=Object.create(null),n=r(t,e,"wasmURL",et),i=r(t,e,"wasmModule",Ge),u=r(t,e,"worker",I);return K(t,e,"in initialize() call"),{wasmURL:n,wasmModule:i,worker:u}}function Ue(t){let e;if(t!==void 0){e=Object.create(null);for(let n in t){let i=t[n];if(typeof i=="string"||i===!1)e[n]=i;else throw new Error(`Expected ${V(n)} in mangle cache to map to either a string or false`)}}return e}function be(t,e,n,i,u){let l=r(e,n,"color",I),f=r(e,n,"logLevel",h),s=r(e,n,"logLimit",oe);l!==void 0?t.push(`--color=${l}`):i&&t.push("--color=true"),t.push(`--log-level=${f||u}`),t.push(`--log-limit=${s||0}`)}function J(t,e,n){if(typeof t!="string")throw new Error(`Expected value for ${e}${n!==void 0?" "+V(n):""} to be a string, got ${typeof t} instead`);return t}function je(t,e,n){let i=r(e,n,"legalComments",h),u=r(e,n,"sourceRoot",h),l=r(e,n,"sourcesContent",I),f=r(e,n,"target",Ze),s=r(e,n,"format",h),p=r(e,n,"globalName",h),w=r(e,n,"mangleProps",he),v=r(e,n,"reserveProps",he),P=r(e,n,"mangleQuoted",I),U=r(e,n,"minify",I),B=r(e,n,"minifySyntax",I),j=r(e,n,"minifyWhitespace",I),Q=r(e,n,"minifyIdentifiers",I),T=r(e,n,"drop",z),W=r(e,n,"charset",h),Y=r(e,n,"treeShaking",I),R=r(e,n,"ignoreAnnotations",I),m=r(e,n,"jsx",h),d=r(e,n,"jsxFactory",h),o=r(e,n,"jsxFragment",h),O=r(e,n,"jsxImportSource",h),S=r(e,n,"jsxDev",I),M=r(e,n,"jsxSideEffects",I),k=r(e,n,"define",ee),a=r(e,n,"logOverride",ee),c=r(e,n,"supported",ee),b=r(e,n,"pure",z),E=r(e,n,"keepNames",I),$=r(e,n,"platform",h);if(i&&t.push(`--legal-comments=${i}`),u!==void 0&&t.push(`--source-root=${u}`),l!==void 0&&t.push(`--sources-content=${l}`),f&&(Array.isArray(f)?t.push(`--target=${Array.from(f).map(Ce).join(",")}`):t.push(`--target=${Ce(f)}`)),s&&t.push(`--format=${s}`),p&&t.push(`--global-name=${p}`),$&&t.push(`--platform=${$}`),U&&t.push("--minify"),B&&t.push("--minify-syntax"),j&&t.push("--minify-whitespace"),Q&&t.push("--minify-identifiers"),W&&t.push(`--charset=${W}`),Y!==void 0&&t.push(`--tree-shaking=${Y}`),R&&t.push("--ignore-annotations"),T)for(let y of T)t.push(`--drop:${J(y,"drop")}`);if(w&&t.push(`--mangle-props=${w.source}`),v&&t.push(`--reserve-props=${v.source}`),P!==void 0&&t.push(`--mangle-quoted=${P}`),m&&t.push(`--jsx=${m}`),d&&t.push(`--jsx-factory=${d}`),o&&t.push(`--jsx-fragment=${o}`),O&&t.push(`--jsx-import-source=${O}`),S&&t.push("--jsx-dev"),M&&t.push("--jsx-side-effects"),k)for(let y in k){if(y.indexOf("=")>=0)throw new Error(`Invalid define: ${y}`);t.push(`--define:${y}=${J(k[y],"define",y)}`)}if(a)for(let y in a){if(y.indexOf("=")>=0)throw new Error(`Invalid log override: ${y}`);t.push(`--log-override:${y}=${J(a[y],"log override",y)}`)}if(c)for(let y in c){if(y.indexOf("=")>=0)throw new Error(`Invalid supported: ${y}`);let x=c[y];if(typeof x!="boolean")throw new Error(`Expected value for supported ${V(y)} to be a boolean, got ${typeof x} instead`);t.push(`--supported:${y}=${x}`)}if(b)for(let y of b)t.push(`--pure:${J(y,"pure")}`);E&&t.push("--keep-names")}function tt(t,e,n,i,u){var se;let l=[],f=[],s=Object.create(null),p=null,w=null;be(l,e,s,n,i),je(l,e,s);let v=r(e,s,"sourcemap",Fe),P=r(e,s,"bundle",I),U=r(e,s,"splitting",I),B=r(e,s,"preserveSymlinks",I),j=r(e,s,"metafile",I),Q=r(e,s,"outfile",h),T=r(e,s,"outdir",h),W=r(e,s,"outbase",h),Y=r(e,s,"tsconfig",h),R=r(e,s,"resolveExtensions",z),m=r(e,s,"nodePaths",z),d=r(e,s,"mainFields",z),o=r(e,s,"conditions",z),O=r(e,s,"external",z),S=r(e,s,"packages",h),M=r(e,s,"alias",ee),k=r(e,s,"loader",ee),a=r(e,s,"outExtension",ee),c=r(e,s,"publicPath",h),b=r(e,s,"entryNames",h),E=r(e,s,"chunkNames",h),$=r(e,s,"assetNames",h),y=r(e,s,"inject",z),x=r(e,s,"banner",ee),F=r(e,s,"footer",ee),L=r(e,s,"entryPoints",He),C=r(e,s,"absWorkingDir",h),D=r(e,s,"stdin",ee),A=(se=r(e,s,"write",I))!=null?se:u,q=r(e,s,"allowOverwrite",I),_=r(e,s,"mangleCache",ee);if(s.plugins=!0,K(e,s,`in ${t}() call`),v&&l.push(`--sourcemap${v===!0?"":`=${v}`}`),P&&l.push("--bundle"),q&&l.push("--allow-overwrite"),U&&l.push("--splitting"),B&&l.push("--preserve-symlinks"),j&&l.push("--metafile"),Q&&l.push(`--outfile=${Q}`),T&&l.push(`--outdir=${T}`),W&&l.push(`--outbase=${W}`),Y&&l.push(`--tsconfig=${Y}`),S&&l.push(`--packages=${S}`),R){let g=[];for(let N of R){if(J(N,"resolve extension"),N.indexOf(",")>=0)throw new Error(`Invalid resolve extension: ${N}`);g.push(N)}l.push(`--resolve-extensions=${g.join(",")}`)}if(c&&l.push(`--public-path=${c}`),b&&l.push(`--entry-names=${b}`),E&&l.push(`--chunk-names=${E}`),$&&l.push(`--asset-names=${$}`),d){let g=[];for(let N of d){if(J(N,"main field"),N.indexOf(",")>=0)throw new Error(`Invalid main field: ${N}`);g.push(N)}l.push(`--main-fields=${g.join(",")}`)}if(o){let g=[];for(let N of o){if(J(N,"condition"),N.indexOf(",")>=0)throw new Error(`Invalid condition: ${N}`);g.push(N)}l.push(`--conditions=${g.join(",")}`)}if(O)for(let g of O)l.push(`--external:${J(g,"external")}`);if(M)for(let g in M){if(g.indexOf("=")>=0)throw new Error(`Invalid package name in alias: ${g}`);l.push(`--alias:${g}=${J(M[g],"alias",g)}`)}if(x)for(let g in x){if(g.indexOf("=")>=0)throw new Error(`Invalid banner file type: ${g}`);l.push(`--banner:${g}=${J(x[g],"banner",g)}`)}if(F)for(let g in F){if(g.indexOf("=")>=0)throw new Error(`Invalid footer file type: ${g}`);l.push(`--footer:${g}=${J(F[g],"footer",g)}`)}if(y)for(let g of y)l.push(`--inject:${J(g,"inject")}`);if(k)for(let g in k){if(g.indexOf("=")>=0)throw new Error(`Invalid loader extension: ${g}`);l.push(`--loader:${g}=${J(k[g],"loader",g)}`)}if(a)for(let g in a){if(g.indexOf("=")>=0)throw new Error(`Invalid out extension: ${g}`);l.push(`--out-extension:${g}=${J(a[g],"out extension",g)}`)}if(L)if(Array.isArray(L))for(let g=0,N=L.length;g<N;g++){let G=L[g];if(typeof G=="object"&&G!==null){let X=Object.create(null),re=r(G,X,"in",h),de=r(G,X,"out",h);if(K(G,X,"in entry point at index "+g),re===void 0)throw new Error('Missing property "in" for entry point at index '+g);if(de===void 0)throw new Error('Missing property "out" for entry point at index '+g);f.push([de,re])}else f.push(["",J(G,"entry point at index "+g)])}else for(let g in L)f.push([g,J(L[g],"entry point",g)]);if(D){let g=Object.create(null),N=r(D,g,"contents",Te),G=r(D,g,"resolveDir",h),X=r(D,g,"sourcefile",h),re=r(D,g,"loader",h);K(D,g,'in "stdin" object'),X&&l.push(`--sourcefile=${X}`),re&&l.push(`--loader=${re}`),G&&(w=G),typeof N=="string"?p=Z(N):N instanceof Uint8Array&&(p=N)}let H=[];if(m)for(let g of m)g+="",H.push(g);return{entries:f,flags:l,write:A,stdinContents:p,stdinResolveDir:w,absWorkingDir:C,nodePaths:H,mangleCache:Ue(_)}}function nt(t,e,n,i){let u=[],l=Object.create(null);be(u,e,l,n,i),je(u,e,l);let f=r(e,l,"sourcemap",Fe),s=r(e,l,"tsconfigRaw",Xe),p=r(e,l,"sourcefile",h),w=r(e,l,"loader",h),v=r(e,l,"banner",h),P=r(e,l,"footer",h),U=r(e,l,"mangleCache",ee);return K(e,l,`in ${t}() call`),f&&u.push(`--sourcemap=${f===!0?"external":f}`),s&&u.push(`--tsconfig-raw=${typeof s=="string"?s:JSON.stringify(s)}`),p&&u.push(`--sourcefile=${p}`),w&&u.push(`--loader=${w}`),v&&u.push(`--banner=${v}`),P&&u.push(`--footer=${P}`),{flags:u,mangleCache:Ue(U)}}function qe(t){let e={},n={didClose:!1,reason:""},i={},u=0,l=0,f=new Uint8Array(16*1024),s=0,p=R=>{let m=s+R.length;if(m>f.length){let o=new Uint8Array(m*2);o.set(f),f=o}f.set(R,s),s+=R.length;let d=0;for(;d+4<=s;){let o=Ee(f,d);if(d+4+o>s)break;d+=4,j(f.subarray(d,d+o)),d+=o}d>0&&(f.copyWithin(0,d,s),s-=d)},w=R=>{n.didClose=!0,R&&(n.reason=": "+(R.message||R));let m="The service was stopped"+n.reason;for(let d in i)i[d](m,null);i={}},v=(R,m,d)=>{if(n.didClose)return d("The service is no longer running"+n.reason,null);let o=u++;i[o]=(O,S)=>{try{d(O,S)}finally{R&&R.unref()}},R&&R.ref(),t.writeToStdin(Oe({id:o,isRequest:!0,value:m}))},P=(R,m)=>{if(n.didClose)throw new Error("The service is no longer running"+n.reason);t.writeToStdin(Oe({id:R,isRequest:!1,value:m}))},U=(R,m)=>te(this,null,function*(){try{if(m.command==="ping"){P(R,{});return}if(typeof m.key=="number"){let d=e[m.key];if(d){let o=d[m.command];if(o){yield o(R,m);return}}}throw new Error("Invalid command: "+m.command)}catch(d){P(R,{errors:[le(d,t,null,void 0,"")]})}}),B=!0,j=R=>{if(B){B=!1;let d=String.fromCharCode(...R);if(d!=="0.17.8")throw new Error(`Cannot start service: Host version "0.17.8" does not match binary version ${V(d)}`);return}let m=ke(R);if(m.isRequest)U(m.id,m.value);else{let d=i[m.id];delete i[m.id],m.value.error?d(m.value.error,{}):d(null,m.value)}};return{readFromStdout:p,afterClose:w,service:{buildOrContext:({callName:R,refs:m,options:d,isTTY:o,defaultWD:O,callback:S})=>{let M=0,k=l++,a={},c={ref(){++M===1&&m&&m.ref()},unref(){--M===0&&(delete e[k],m&&m.unref())}};e[k]=a,c.ref(),rt(R,k,v,P,c,t,a,d,o,O,(b,E)=>{try{S(b,E)}finally{c.unref()}})},transform:({callName:R,refs:m,input:d,options:o,isTTY:O,fs:S,callback:M})=>{let k=Le(),a=c=>{try{if(typeof d!="string"&&!(d instanceof Uint8Array))throw new Error('The input to "transform" must be a string or a Uint8Array');let{flags:b,mangleCache:E}=nt(R,o,O,Me),$={command:"transform",flags:b,inputFS:c!==null,input:c!==null?Z(c):typeof d=="string"?Z(d):d};E&&($.mangleCache=E),v(m,$,(y,x)=>{if(y)return M(new Error(y),null);let F=ae(x.errors,k),L=ae(x.warnings,k),C=1,D=()=>{if(--C===0){let A={warnings:L,code:x.code,map:x.map,mangleCache:void 0,legalComments:void 0};"legalComments"in x&&(A.legalComments=x==null?void 0:x.legalComments),x.mangleCache&&(A.mangleCache=x==null?void 0:x.mangleCache),M(null,A)}};if(F.length>0)return M(ce("Transform failed",F,L),null);x.codeFS&&(C++,S.readFile(x.code,(A,q)=>{A!==null?M(A,null):(x.code=q,D())})),x.mapFS&&(C++,S.readFile(x.map,(A,q)=>{A!==null?M(A,null):(x.map=q,D())})),D()})}catch(b){let E=[];try{be(E,o,{},O,Me)}catch(y){}let $=le(b,t,k,void 0,"");v(m,{command:"error",flags:E,error:$},()=>{$.detail=k.load($.detail),M(ce("Transform failed",[$],[]),null)})}};if((typeof d=="string"||d instanceof Uint8Array)&&d.length>1024*1024){let c=a;a=()=>S.writeFile(d,c)}a(null)},formatMessages:({callName:R,refs:m,messages:d,options:o,callback:O})=>{let S=ne(d,"messages",null,"");if(!o)throw new Error(`Missing second argument in ${R}() call`);let M={},k=r(o,M,"kind",h),a=r(o,M,"color",I),c=r(o,M,"terminalWidth",oe);if(K(o,M,`in ${R}() call`),k===void 0)throw new Error(`Missing "kind" in ${R}() call`);if(k!=="error"&&k!=="warning")throw new Error(`Expected "kind" to be "error" or "warning" in ${R}() call`);let b={command:"format-msgs",messages:S,isWarning:k==="warning"};a!==void 0&&(b.color=a),c!==void 0&&(b.terminalWidth=c),v(m,b,(E,$)=>{if(E)return O(new Error(E),null);O(null,$.messages)})},analyzeMetafile:({callName:R,refs:m,metafile:d,options:o,callback:O})=>{o===void 0&&(o={});let S={},M=r(o,S,"color",I),k=r(o,S,"verbose",I);K(o,S,`in ${R}() call`);let a={command:"analyze-metafile",metafile:d};M!==void 0&&(a.color=M),k!==void 0&&(a.verbose=k),v(m,a,(c,b)=>{if(c)return O(new Error(c),null);O(null,b.result)})}}}}function rt(t,e,n,i,u,l,f,s,p,w,v){let P=Le(),U=t==="context",B=(T,W)=>{let Y=[];try{be(Y,s,{},p,$e)}catch(m){}let R=le(T,l,P,void 0,W);n(u,{command:"error",flags:Y,error:R},()=>{R.detail=P.load(R.detail),v(ce(U?"Context failed":"Build failed",[R],[]),null)})},j;if(typeof s=="object"){let T=s.plugins;if(T!==void 0){if(!Array.isArray(T))return B(new Error('"plugins" must be an array'),"");j=T}}if(j&&j.length>0){if(l.isSync)return B(new Error("Cannot use plugins in synchronous API calls"),"");it(e,n,i,u,l,f,s,j,P).then(T=>{if(!T.ok)return B(T.error,T.pluginName);try{Q(T.requestPlugins,T.runOnEndCallbacks,T.scheduleOnDisposeCallbacks)}catch(W){B(W,"")}},T=>B(T,""));return}try{Q(null,(T,W)=>W([],[]),()=>{})}catch(T){B(T,"")}function Q(T,W,Y){let R=l.hasFS,{entries:m,flags:d,write:o,stdinContents:O,stdinResolveDir:S,absWorkingDir:M,nodePaths:k,mangleCache:a}=tt(t,s,p,$e,R);if(o&&!l.hasFS)throw new Error('The "write" option is unavailable in this environment');let c={command:"build",key:e,entries:m,flags:d,write:o,stdinContents:O,stdinResolveDir:S,absWorkingDir:M||w,nodePaths:k,context:U};T&&(c.plugins=T),a&&(c.mangleCache=a);let b=(y,x)=>{let F={errors:ae(y.errors,P),warnings:ae(y.warnings,P),outputFiles:void 0,metafile:void 0,mangleCache:void 0},L=F.errors.slice(),C=F.warnings.slice();y.outputFiles&&(F.outputFiles=y.outputFiles.map(lt)),y.metafile&&(F.metafile=JSON.parse(y.metafile)),y.mangleCache&&(F.mangleCache=y.mangleCache),y.writeToStdout!==void 0&&console.log(ie(y.writeToStdout).replace(/\n$/,"")),W(F,(D,A)=>{if(L.length>0||D.length>0){let q=ce("Build failed",L.concat(D),C.concat(A));return x(q,null,D,A)}x(null,F,D,A)})},E,$;U&&(f["on-end"]=(y,x)=>new Promise(F=>{b(x,(L,C,D,A)=>{let q={errors:D,warnings:A};$&&$(L,C),E=void 0,$=void 0,i(y,q),F()})})),n(u,c,(y,x)=>{if(y)return v(new Error(y),null);if(!U)return b(x,(C,D)=>(Y(),v(C,D)));if(x.errors.length>0)return v(ce("Context failed",x.errors,x.warnings),null);let F=!1,L={rebuild:()=>(E||(E=new Promise((C,D)=>{let A;$=(_,H)=>{A||(A=()=>_?D(_):C(H))};let q=()=>{n(u,{command:"rebuild",key:e},(H,se)=>{H?D(new Error(H)):A?A():q()})};q()})),E),watch:(C={})=>new Promise((D,A)=>{if(!l.hasFS)throw new Error('Cannot use the "watch" API in this environment');K(C,{},"in watch() call"),n(u,{command:"watch",key:e},H=>{H?A(new Error(H)):D(void 0)})}),serve:(C={})=>new Promise((D,A)=>{if(!l.hasFS)throw new Error('Cannot use the "serve" API in this environment');let q={},_=r(C,q,"port",oe),H=r(C,q,"host",h),se=r(C,q,"servedir",h),g=r(C,q,"keyfile",h),N=r(C,q,"certfile",h),G=r(C,q,"onRequest",Pe);K(C,q,"in serve() call");let X={command:"serve",key:e,onRequest:!!G};_!==void 0&&(X.port=_),H!==void 0&&(X.host=H),se!==void 0&&(X.servedir=se),g!==void 0&&(X.keyfile=g),N!==void 0&&(X.certfile=N),n(u,X,(re,de)=>{if(re)return A(new Error(re));G&&(f["serve-request"]=(Ie,We)=>{G(We.args),i(Ie,{})}),D(de)})}),cancel:()=>new Promise(C=>{if(F)return C();n(u,{command:"cancel",key:e},()=>{C()})}),dispose:()=>new Promise(C=>{if(F)return C();F=!0,n(u,{command:"dispose",key:e},()=>{C(),Y(),u.unref()})})};u.ref(),v(null,L)})}}var it=(t,e,n,i,u,l,f,s,p)=>te(void 0,null,function*(){let w=[],v=[],P={},U={},B=[],j=0,Q=0,T=[],W=!1;s=[...s];for(let m of s){let d={};if(typeof m!="object")throw new Error(`Plugin at index ${Q} must be an object`);let o=r(m,d,"name",h);if(typeof o!="string"||o==="")throw new Error(`Plugin at index ${Q} is missing a name`);try{let O=r(m,d,"setup",Pe);if(typeof O!="function")throw new Error("Plugin is missing a setup function");K(m,d,`on plugin ${V(o)}`);let S={name:o,onStart:!1,onEnd:!1,onResolve:[],onLoad:[]};Q++;let k=O({initialOptions:f,resolve:(a,c={})=>{if(!W)throw new Error('Cannot call "resolve" before plugin setup has completed');if(typeof a!="string")throw new Error("The path to resolve must be a string");let b=Object.create(null),E=r(c,b,"pluginName",h),$=r(c,b,"importer",h),y=r(c,b,"namespace",h),x=r(c,b,"resolveDir",h),F=r(c,b,"kind",h),L=r(c,b,"pluginData",ye);return K(c,b,"in resolve() call"),new Promise((C,D)=>{let A={command:"resolve",path:a,key:t,pluginName:o};if(E!=null&&(A.pluginName=E),$!=null&&(A.importer=$),y!=null&&(A.namespace=y),x!=null&&(A.resolveDir=x),F!=null)A.kind=F;else throw new Error('Must specify "kind" when calling "resolve"');L!=null&&(A.pluginData=p.store(L)),e(i,A,(q,_)=>{q!==null?D(new Error(q)):C({errors:ae(_.errors,p),warnings:ae(_.warnings,p),path:_.path,external:_.external,sideEffects:_.sideEffects,namespace:_.namespace,suffix:_.suffix,pluginData:p.load(_.pluginData)})})})},onStart(a){let c='This error came from the "onStart" callback registered here:',b=ge(new Error(c),u,"onStart");w.push({name:o,callback:a,note:b}),S.onStart=!0},onEnd(a){let c='This error came from the "onEnd" callback registered here:',b=ge(new Error(c),u,"onEnd");v.push({name:o,callback:a,note:b}),S.onEnd=!0},onResolve(a,c){let b='This error came from the "onResolve" callback registered here:',E=ge(new Error(b),u,"onResolve"),$={},y=r(a,$,"filter",he),x=r(a,$,"namespace",h);if(K(a,$,`in onResolve() call for plugin ${V(o)}`),y==null)throw new Error("onResolve() call is missing a filter");let F=j++;P[F]={name:o,callback:c,note:E},S.onResolve.push({id:F,filter:y.source,namespace:x||""})},onLoad(a,c){let b='This error came from the "onLoad" callback registered here:',E=ge(new Error(b),u,"onLoad"),$={},y=r(a,$,"filter",he),x=r(a,$,"namespace",h);if(K(a,$,`in onLoad() call for plugin ${V(o)}`),y==null)throw new Error("onLoad() call is missing a filter");let F=j++;U[F]={name:o,callback:c,note:E},S.onLoad.push({id:F,filter:y.source,namespace:x||""})},onDispose(a){B.push(a)},esbuild:u.esbuild});k&&(yield k),T.push(S)}catch(O){return{ok:!1,error:O,pluginName:o}}}l["on-start"]=(m,d)=>te(void 0,null,function*(){let o={errors:[],warnings:[]};yield Promise.all(w.map(k=>te(void 0,[k],function*({name:O,callback:S,note:M}){try{let a=yield S();if(a!=null){if(typeof a!="object")throw new Error(`Expected onStart() callback in plugin ${V(O)} to return an object`);let c={},b=r(a,c,"errors",z),E=r(a,c,"warnings",z);K(a,c,`from onStart() callback in plugin ${V(O)}`),b!=null&&o.errors.push(...ne(b,"errors",p,O)),E!=null&&o.warnings.push(...ne(E,"warnings",p,O))}}catch(a){o.errors.push(le(a,u,p,M&&M(),O))}}))),n(m,o)}),l["on-resolve"]=(m,d)=>te(void 0,null,function*(){let o={},O="",S,M;for(let k of d.ids)try{({name:O,callback:S,note:M}=P[k]);let a=yield S({path:d.path,importer:d.importer,namespace:d.namespace,resolveDir:d.resolveDir,kind:d.kind,pluginData:p.load(d.pluginData)});if(a!=null){if(typeof a!="object")throw new Error(`Expected onResolve() callback in plugin ${V(O)} to return an object`);let c={},b=r(a,c,"pluginName",h),E=r(a,c,"path",h),$=r(a,c,"namespace",h),y=r(a,c,"suffix",h),x=r(a,c,"external",I),F=r(a,c,"sideEffects",I),L=r(a,c,"pluginData",ye),C=r(a,c,"errors",z),D=r(a,c,"warnings",z),A=r(a,c,"watchFiles",z),q=r(a,c,"watchDirs",z);K(a,c,`from onResolve() callback in plugin ${V(O)}`),o.id=k,b!=null&&(o.pluginName=b),E!=null&&(o.path=E),$!=null&&(o.namespace=$),y!=null&&(o.suffix=y),x!=null&&(o.external=x),F!=null&&(o.sideEffects=F),L!=null&&(o.pluginData=p.store(L)),C!=null&&(o.errors=ne(C,"errors",p,O)),D!=null&&(o.warnings=ne(D,"warnings",p,O)),A!=null&&(o.watchFiles=me(A,"watchFiles")),q!=null&&(o.watchDirs=me(q,"watchDirs"));break}}catch(a){o={id:k,errors:[le(a,u,p,M&&M(),O)]};break}n(m,o)}),l["on-load"]=(m,d)=>te(void 0,null,function*(){let o={},O="",S,M;for(let k of d.ids)try{({name:O,callback:S,note:M}=U[k]);let a=yield S({path:d.path,namespace:d.namespace,suffix:d.suffix,pluginData:p.load(d.pluginData)});if(a!=null){if(typeof a!="object")throw new Error(`Expected onLoad() callback in plugin ${V(O)} to return an object`);let c={},b=r(a,c,"pluginName",h),E=r(a,c,"contents",Te),$=r(a,c,"resolveDir",h),y=r(a,c,"pluginData",ye),x=r(a,c,"loader",h),F=r(a,c,"errors",z),L=r(a,c,"warnings",z),C=r(a,c,"watchFiles",z),D=r(a,c,"watchDirs",z);K(a,c,`from onLoad() callback in plugin ${V(O)}`),o.id=k,b!=null&&(o.pluginName=b),E instanceof Uint8Array?o.contents=E:E!=null&&(o.contents=Z(E)),$!=null&&(o.resolveDir=$),y!=null&&(o.pluginData=p.store(y)),x!=null&&(o.loader=x),F!=null&&(o.errors=ne(F,"errors",p,O)),L!=null&&(o.warnings=ne(L,"warnings",p,O)),C!=null&&(o.watchFiles=me(C,"watchFiles")),D!=null&&(o.watchDirs=me(D,"watchDirs"));break}}catch(a){o={id:k,errors:[le(a,u,p,M&&M(),O)]};break}n(m,o)});let Y=(m,d)=>d([],[]);v.length>0&&(Y=(m,d)=>{te(void 0,null,function*(){let o=[],O=[];for(let{name:S,callback:M,note:k}of v){let a,c;try{let b=yield M(m);if(b!=null){if(typeof b!="object")throw new Error(`Expected onEnd() callback in plugin ${V(S)} to return an object`);let E={},$=r(b,E,"errors",z),y=r(b,E,"warnings",z);K(b,E,`from onEnd() callback in plugin ${V(S)}`),$!=null&&(a=ne($,"errors",p,S)),y!=null&&(c=ne(y,"warnings",p,S))}}catch(b){a=[le(b,u,p,k&&k(),S)]}if(a){o.push(...a);try{m.errors.push(...a)}catch(b){}}if(c){O.push(...c);try{m.warnings.push(...c)}catch(b){}}}d(o,O)})});let R=()=>{for(let m of B)setTimeout(()=>m(),0)};return W=!0,{ok:!0,requestPlugins:T,runOnEndCallbacks:Y,scheduleOnDisposeCallbacks:R}});function Le(){let t=new Map,e=0;return{load(n){return t.get(n)},store(n){if(n===void 0)return-1;let i=e++;return t.set(i,n),i}}}function ge(t,e,n){let i,u=!1;return()=>{if(u)return i;u=!0;try{let l=(t.stack+"").split(`
`);l.splice(1,1);let f=Ne(e,l,n);if(f)return i={text:t.message,location:f},i}catch(l){}}}function le(t,e,n,i,u){let l="Internal error",f=null;try{l=(t&&t.message||t)+""}catch(s){}try{f=Ne(e,(t.stack+"").split(`
`),"")}catch(s){}return{id:"",pluginName:u,text:l,location:f,notes:i?[i]:[],detail:n?n.store(t):-1}}function Ne(t,e,n){let i="    at ";if(t.readFileSync&&!e[0].startsWith(i)&&e[1].startsWith(i))for(let u=1;u<e.length;u++){let l=e[u];if(l.startsWith(i))for(l=l.slice(i.length);;){let f=/^(?:new |async )?\S+ \((.*)\)$/.exec(l);if(f){l=f[1];continue}if(f=/^eval at \S+ \((.*)\)(?:, \S+:\d+:\d+)?$/.exec(l),f){l=f[1];continue}if(f=/^(\S+):(\d+):(\d+)$/.exec(l),f){let s;try{s=t.readFileSync(f[1],"utf8")}catch(P){break}let p=s.split(/\r\n|\r|\n|\u2028|\u2029/)[+f[2]-1]||"",w=+f[3]-1,v=p.slice(w,w+n.length)===n?n.length:0;return{file:f[1],namespace:"file",line:+f[2],column:Z(p.slice(0,w)).length,length:Z(p.slice(w,w+v)).length,lineText:p+`
`+e.slice(1).join(`
`),suggestion:""}}break}}return null}function ce(t,e,n){let i=5,u=e.length<1?"":` with ${e.length} error${e.length<2?"":"s"}:`+e.slice(0,i+1).map((f,s)=>{if(s===i)return`
...`;if(!f.location)return`
error: ${f.text}`;let{file:p,line:w,column:v}=f.location,P=f.pluginName?`[plugin: ${f.pluginName}] `:"";return`
${p}:${w}:${v}: ERROR: ${P}${f.text}`}).join(""),l=new Error(`${t}${u}`);return l.errors=e,l.warnings=n,l}function ae(t,e){for(let n of t)n.detail=e.load(n.detail);return t}function De(t,e){if(t==null)return null;let n={},i=r(t,n,"file",h),u=r(t,n,"namespace",h),l=r(t,n,"line",oe),f=r(t,n,"column",oe),s=r(t,n,"length",oe),p=r(t,n,"lineText",h),w=r(t,n,"suggestion",h);return K(t,n,e),{file:i||"",namespace:u||"",line:l||0,column:f||0,length:s||0,lineText:p||"",suggestion:w||""}}function ne(t,e,n,i){let u=[],l=0;for(let f of t){let s={},p=r(f,s,"id",h),w=r(f,s,"pluginName",h),v=r(f,s,"text",h),P=r(f,s,"location",Ae),U=r(f,s,"notes",z),B=r(f,s,"detail",ye),j=`in element ${l} of "${e}"`;K(f,s,j);let Q=[];if(U)for(let T of U){let W={},Y=r(T,W,"text",h),R=r(T,W,"location",Ae);K(T,W,j),Q.push({text:Y||"",location:De(R,j)})}u.push({id:p||"",pluginName:w||i,text:v||"",location:De(P,j),notes:Q,detail:n?n.store(B):-1}),l++}return u}function me(t,e){let n=[];for(let i of t){if(typeof i!="string")throw new Error(`${V(e)} must be an array of strings`);n.push(i)}return n}function lt({path:t,contents:e}){let n=null;return{path:t,contents:e,get text(){let i=this.contents;return(n===null||i!==e)&&(e=i,n=ie(i)),n}}}var ot="0.17.8",at=t=>fe().build(t),ut=t=>fe().context(t),ct=(t,e)=>fe().transform(t,e),ft=(t,e)=>fe().formatMessages(t,e),dt=(t,e)=>fe().analyzeMetafile(t,e),pt=()=>{throw new Error('The "buildSync" API only works in node')},gt=()=>{throw new Error('The "transformSync" API only works in node')},mt=()=>{throw new Error('The "formatMessagesSync" API only works in node')},yt=()=>{throw new Error('The "analyzeMetafileSync" API only works in node')},ue,Se,fe=()=>{if(Se)return Se;throw ue?new Error('You need to wait for the promise returned from "initialize" to be resolved before calling this'):new Error('You need to call "initialize" before calling this')},ht=t=>{t=Be(t||{});let e=t.wasmURL,n=t.wasmModule,i=t.worker!==!1;if(!e&&!n)throw new Error('Must provide either the "wasmURL" option or the "wasmModule" option');if(ue)throw new Error('Cannot call "initialize" more than once');return ue=bt(e||"",n,i),ue.catch(()=>{ue=void 0}),ue},bt=(t,e,n)=>te(void 0,null,function*(){let i;if(n){let w=new Blob(['onmessage=(postMessage=>{\n// Copyright 2018 The Go Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style\n// license that can be found in the LICENSE file.\nvar y=(r,f,m)=>new Promise((c,n)=>{var s=h=>{try{l(m.next(h))}catch(u){n(u)}},i=h=>{try{l(m.throw(h))}catch(u){n(u)}},l=h=>h.done?c(h.value):Promise.resolve(h.value).then(s,i);l((m=m.apply(r,f)).next())});let onmessage,globalThis={};for(let r=self;r;r=Object.getPrototypeOf(r))for(let f of Object.getOwnPropertyNames(r))f in globalThis||Object.defineProperty(globalThis,f,{get:()=>self[f]});(()=>{const r=()=>{const c=new Error("not implemented");return c.code="ENOSYS",c};if(!globalThis.fs){let c="";globalThis.fs={constants:{O_WRONLY:-1,O_RDWR:-1,O_CREAT:-1,O_TRUNC:-1,O_APPEND:-1,O_EXCL:-1},writeSync(n,s){c+=m.decode(s);const i=c.lastIndexOf(`\n`);return i!=-1&&(console.log(c.substring(0,i)),c=c.substring(i+1)),s.length},write(n,s,i,l,h,u){if(i!==0||l!==s.length||h!==null){u(r());return}const g=this.writeSync(n,s);u(null,g)},chmod(n,s,i){i(r())},chown(n,s,i,l){l(r())},close(n,s){s(r())},fchmod(n,s,i){i(r())},fchown(n,s,i,l){l(r())},fstat(n,s){s(r())},fsync(n,s){s(null)},ftruncate(n,s,i){i(r())},lchown(n,s,i,l){l(r())},link(n,s,i){i(r())},lstat(n,s){s(r())},mkdir(n,s,i){i(r())},open(n,s,i,l){l(r())},read(n,s,i,l,h,u){u(r())},readdir(n,s){s(r())},readlink(n,s){s(r())},rename(n,s,i){i(r())},rmdir(n,s){s(r())},stat(n,s){s(r())},symlink(n,s,i){i(r())},truncate(n,s,i){i(r())},unlink(n,s){s(r())},utimes(n,s,i,l){l(r())}}}if(globalThis.process||(globalThis.process={getuid(){return-1},getgid(){return-1},geteuid(){return-1},getegid(){return-1},getgroups(){throw r()},pid:-1,ppid:-1,umask(){throw r()},cwd(){throw r()},chdir(){throw r()}}),!globalThis.crypto)throw new Error("globalThis.crypto is not available, polyfill required (crypto.getRandomValues only)");if(!globalThis.performance)throw new Error("globalThis.performance is not available, polyfill required (performance.now only)");if(!globalThis.TextEncoder)throw new Error("globalThis.TextEncoder is not available, polyfill required");if(!globalThis.TextDecoder)throw new Error("globalThis.TextDecoder is not available, polyfill required");const f=new TextEncoder("utf-8"),m=new TextDecoder("utf-8");globalThis.Go=class{constructor(){this.argv=["js"],this.env={},this.exit=e=>{e!==0&&console.warn("exit code:",e)},this._exitPromise=new Promise(e=>{this._resolveExitPromise=e}),this._pendingEvent=null,this._scheduledTimeouts=new Map,this._nextCallbackTimeoutID=1;const c=(e,t)=>{this.mem.setUint32(e+0,t,!0),this.mem.setUint32(e+4,Math.floor(t/4294967296),!0)},n=e=>{const t=this.mem.getUint32(e+0,!0),o=this.mem.getInt32(e+4,!0);return t+o*4294967296},s=e=>{const t=this.mem.getFloat64(e,!0);if(t===0)return;if(!isNaN(t))return t;const o=this.mem.getUint32(e,!0);return this._values[o]},i=(e,t)=>{if(typeof t=="number"&&t!==0){if(isNaN(t)){this.mem.setUint32(e+4,2146959360,!0),this.mem.setUint32(e,0,!0);return}this.mem.setFloat64(e,t,!0);return}if(t===void 0){this.mem.setFloat64(e,0,!0);return}let a=this._ids.get(t);a===void 0&&(a=this._idPool.pop(),a===void 0&&(a=this._values.length),this._values[a]=t,this._goRefCounts[a]=0,this._ids.set(t,a)),this._goRefCounts[a]++;let d=0;switch(typeof t){case"object":t!==null&&(d=1);break;case"string":d=2;break;case"symbol":d=3;break;case"function":d=4;break}this.mem.setUint32(e+4,2146959360|d,!0),this.mem.setUint32(e,a,!0)},l=e=>{const t=n(e+0),o=n(e+8);return new Uint8Array(this._inst.exports.mem.buffer,t,o)},h=e=>{const t=n(e+0),o=n(e+8),a=new Array(o);for(let d=0;d<o;d++)a[d]=s(t+d*8);return a},u=e=>{const t=n(e+0),o=n(e+8);return m.decode(new DataView(this._inst.exports.mem.buffer,t,o))},g=Date.now()-performance.now();this.importObject={go:{"runtime.wasmExit":e=>{e>>>=0;const t=this.mem.getInt32(e+8,!0);this.exited=!0,delete this._inst,delete this._values,delete this._goRefCounts,delete this._ids,delete this._idPool,this.exit(t)},"runtime.wasmWrite":e=>{e>>>=0;const t=n(e+8),o=n(e+16),a=this.mem.getInt32(e+24,!0);globalThis.fs.writeSync(t,new Uint8Array(this._inst.exports.mem.buffer,o,a))},"runtime.resetMemoryDataView":e=>{e>>>=0,this.mem=new DataView(this._inst.exports.mem.buffer)},"runtime.nanotime1":e=>{e>>>=0,c(e+8,(g+performance.now())*1e6)},"runtime.walltime":e=>{e>>>=0;const t=new Date().getTime();c(e+8,t/1e3),this.mem.setInt32(e+16,t%1e3*1e6,!0)},"runtime.scheduleTimeoutEvent":e=>{e>>>=0;const t=this._nextCallbackTimeoutID;this._nextCallbackTimeoutID++,this._scheduledTimeouts.set(t,setTimeout(()=>{for(this._resume();this._scheduledTimeouts.has(t);)console.warn("scheduleTimeoutEvent: missed timeout event"),this._resume()},n(e+8)+1)),this.mem.setInt32(e+16,t,!0)},"runtime.clearTimeoutEvent":e=>{e>>>=0;const t=this.mem.getInt32(e+8,!0);clearTimeout(this._scheduledTimeouts.get(t)),this._scheduledTimeouts.delete(t)},"runtime.getRandomData":e=>{e>>>=0,crypto.getRandomValues(l(e+8))},"syscall/js.finalizeRef":e=>{e>>>=0;const t=this.mem.getUint32(e+8,!0);if(this._goRefCounts[t]--,this._goRefCounts[t]===0){const o=this._values[t];this._values[t]=null,this._ids.delete(o),this._idPool.push(t)}},"syscall/js.stringVal":e=>{e>>>=0,i(e+24,u(e+8))},"syscall/js.valueGet":e=>{e>>>=0;const t=Reflect.get(s(e+8),u(e+16));e=this._inst.exports.getsp()>>>0,i(e+32,t)},"syscall/js.valueSet":e=>{e>>>=0,Reflect.set(s(e+8),u(e+16),s(e+32))},"syscall/js.valueDelete":e=>{e>>>=0,Reflect.deleteProperty(s(e+8),u(e+16))},"syscall/js.valueIndex":e=>{e>>>=0,i(e+24,Reflect.get(s(e+8),n(e+16)))},"syscall/js.valueSetIndex":e=>{e>>>=0,Reflect.set(s(e+8),n(e+16),s(e+24))},"syscall/js.valueCall":e=>{e>>>=0;try{const t=s(e+8),o=Reflect.get(t,u(e+16)),a=h(e+32),d=Reflect.apply(o,t,a);e=this._inst.exports.getsp()>>>0,i(e+56,d),this.mem.setUint8(e+64,1)}catch(t){e=this._inst.exports.getsp()>>>0,i(e+56,t),this.mem.setUint8(e+64,0)}},"syscall/js.valueInvoke":e=>{e>>>=0;try{const t=s(e+8),o=h(e+16),a=Reflect.apply(t,void 0,o);e=this._inst.exports.getsp()>>>0,i(e+40,a),this.mem.setUint8(e+48,1)}catch(t){e=this._inst.exports.getsp()>>>0,i(e+40,t),this.mem.setUint8(e+48,0)}},"syscall/js.valueNew":e=>{e>>>=0;try{const t=s(e+8),o=h(e+16),a=Reflect.construct(t,o);e=this._inst.exports.getsp()>>>0,i(e+40,a),this.mem.setUint8(e+48,1)}catch(t){e=this._inst.exports.getsp()>>>0,i(e+40,t),this.mem.setUint8(e+48,0)}},"syscall/js.valueLength":e=>{e>>>=0,c(e+16,parseInt(s(e+8).length))},"syscall/js.valuePrepareString":e=>{e>>>=0;const t=f.encode(String(s(e+8)));i(e+16,t),c(e+24,t.length)},"syscall/js.valueLoadString":e=>{e>>>=0;const t=s(e+8);l(e+16).set(t)},"syscall/js.valueInstanceOf":e=>{e>>>=0,this.mem.setUint8(e+24,s(e+8)instanceof s(e+16)?1:0)},"syscall/js.copyBytesToGo":e=>{e>>>=0;const t=l(e+8),o=s(e+32);if(!(o instanceof Uint8Array||o instanceof Uint8ClampedArray)){this.mem.setUint8(e+48,0);return}const a=o.subarray(0,t.length);t.set(a),c(e+40,a.length),this.mem.setUint8(e+48,1)},"syscall/js.copyBytesToJS":e=>{e>>>=0;const t=s(e+8),o=l(e+16);if(!(t instanceof Uint8Array||t instanceof Uint8ClampedArray)){this.mem.setUint8(e+48,0);return}const a=o.subarray(0,t.length);t.set(a),c(e+40,a.length),this.mem.setUint8(e+48,1)},debug:e=>{console.log(e)}}}}run(c){return y(this,null,function*(){if(!(c instanceof WebAssembly.Instance))throw new Error("Go.run: WebAssembly.Instance expected");this._inst=c,this.mem=new DataView(this._inst.exports.mem.buffer),this._values=[NaN,0,null,!0,!1,globalThis,this],this._goRefCounts=new Array(this._values.length).fill(1/0),this._ids=new Map([[0,1],[null,2],[!0,3],[!1,4],[globalThis,5],[this,6]]),this._idPool=[],this.exited=!1;let n=4096;const s=e=>{const t=n,o=f.encode(e+"\\0");return new Uint8Array(this.mem.buffer,n,o.length).set(o),n+=o.length,n%8!==0&&(n+=8-n%8),t},i=this.argv.length,l=[];this.argv.forEach(e=>{l.push(s(e))}),l.push(0),Object.keys(this.env).sort().forEach(e=>{l.push(s(`${e}=${this.env[e]}`))}),l.push(0);const u=n;l.forEach(e=>{this.mem.setUint32(n,e,!0),this.mem.setUint32(n+4,0,!0),n+=8});const g=4096+8192;if(n>=g)throw new Error("total length of command line and environment variables exceeds limit");this._inst.exports.run(i,u),this.exited&&this._resolveExitPromise(),yield this._exitPromise})}_resume(){if(this.exited)throw new Error("Go program has already exited");this._inst.exports.resume(),this.exited&&this._resolveExitPromise()}_makeFuncWrapper(c){const n=this;return function(){const s={id:c,this:this,args:arguments};return n._pendingEvent=s,n._resume(),s.result}}}})(),onmessage=({data:r})=>{let f=new TextDecoder,m=globalThis.fs,c="";m.writeSync=(h,u)=>{if(h===1)postMessage(u);else if(h===2){c+=f.decode(u);let g=c.split(`\n`);g.length>1&&console.log(g.slice(0,-1).join(`\n`)),c=g[g.length-1]}else throw new Error("Bad write");return u.length};let n=[],s,i=0;onmessage=({data:h})=>{h.length>0&&(n.push(h),s&&s())},m.read=(h,u,g,e,t,o)=>{if(h!==0||g!==0||e!==u.length||t!==null)throw new Error("Bad read");if(n.length===0){s=()=>m.read(h,u,g,e,t,o);return}let a=n[0],d=Math.max(0,Math.min(e,a.length-i));u.set(a.subarray(i,i+d),g),i+=d,i===a.length&&(n.shift(),i=0),o(null,d)};let l=new globalThis.Go;l.argv=["","--service=0.17.8"],tryToInstantiateModule(r,l).then(h=>{postMessage(null),l.run(h)},h=>{postMessage(h)})};function tryToInstantiateModule(r,f){return y(this,null,function*(){if(r instanceof WebAssembly.Module)return WebAssembly.instantiate(r,f.importObject);const m=yield fetch(r);if(!m.ok)throw new Error(`Failed to download ${JSON.stringify(r)}`);if("instantiateStreaming"in WebAssembly&&/^application\\/wasm($|;)/i.test(m.headers.get("Content-Type")||""))return(yield WebAssembly.instantiateStreaming(m,f.importObject)).instance;const c=yield m.arrayBuffer();return(yield WebAssembly.instantiate(c,f.importObject)).instance})}return r=>onmessage(r);})(postMessage)'],{type:"text/javascript"});i=new Worker(URL.createObjectURL(w))}else{let w=(postMessage=>{
// Copyright 2018 The Go Authors. All rights reserved.
// Use of this source code is governed by a BSD-style
// license that can be found in the LICENSE file.
var y=(r,f,m)=>new Promise((c,n)=>{var s=h=>{try{l(m.next(h))}catch(u){n(u)}},i=h=>{try{l(m.throw(h))}catch(u){n(u)}},l=h=>h.done?c(h.value):Promise.resolve(h.value).then(s,i);l((m=m.apply(r,f)).next())});let onmessage,globalThis={};for(let r=self;r;r=Object.getPrototypeOf(r))for(let f of Object.getOwnPropertyNames(r))f in globalThis||Object.defineProperty(globalThis,f,{get:()=>self[f]});(()=>{const r=()=>{const c=new Error("not implemented");return c.code="ENOSYS",c};if(!globalThis.fs){let c="";globalThis.fs={constants:{O_WRONLY:-1,O_RDWR:-1,O_CREAT:-1,O_TRUNC:-1,O_APPEND:-1,O_EXCL:-1},writeSync(n,s){c+=m.decode(s);const i=c.lastIndexOf(`
`);return i!=-1&&(console.log(c.substring(0,i)),c=c.substring(i+1)),s.length},write(n,s,i,l,h,u){if(i!==0||l!==s.length||h!==null){u(r());return}const g=this.writeSync(n,s);u(null,g)},chmod(n,s,i){i(r())},chown(n,s,i,l){l(r())},close(n,s){s(r())},fchmod(n,s,i){i(r())},fchown(n,s,i,l){l(r())},fstat(n,s){s(r())},fsync(n,s){s(null)},ftruncate(n,s,i){i(r())},lchown(n,s,i,l){l(r())},link(n,s,i){i(r())},lstat(n,s){s(r())},mkdir(n,s,i){i(r())},open(n,s,i,l){l(r())},read(n,s,i,l,h,u){u(r())},readdir(n,s){s(r())},readlink(n,s){s(r())},rename(n,s,i){i(r())},rmdir(n,s){s(r())},stat(n,s){s(r())},symlink(n,s,i){i(r())},truncate(n,s,i){i(r())},unlink(n,s){s(r())},utimes(n,s,i,l){l(r())}}}if(globalThis.process||(globalThis.process={getuid(){return-1},getgid(){return-1},geteuid(){return-1},getegid(){return-1},getgroups(){throw r()},pid:-1,ppid:-1,umask(){throw r()},cwd(){throw r()},chdir(){throw r()}}),!globalThis.crypto)throw new Error("globalThis.crypto is not available, polyfill required (crypto.getRandomValues only)");if(!globalThis.performance)throw new Error("globalThis.performance is not available, polyfill required (performance.now only)");if(!globalThis.TextEncoder)throw new Error("globalThis.TextEncoder is not available, polyfill required");if(!globalThis.TextDecoder)throw new Error("globalThis.TextDecoder is not available, polyfill required");const f=new TextEncoder("utf-8"),m=new TextDecoder("utf-8");globalThis.Go=class{constructor(){this.argv=["js"],this.env={},this.exit=e=>{e!==0&&console.warn("exit code:",e)},this._exitPromise=new Promise(e=>{this._resolveExitPromise=e}),this._pendingEvent=null,this._scheduledTimeouts=new Map,this._nextCallbackTimeoutID=1;const c=(e,t)=>{this.mem.setUint32(e+0,t,!0),this.mem.setUint32(e+4,Math.floor(t/4294967296),!0)},n=e=>{const t=this.mem.getUint32(e+0,!0),o=this.mem.getInt32(e+4,!0);return t+o*4294967296},s=e=>{const t=this.mem.getFloat64(e,!0);if(t===0)return;if(!isNaN(t))return t;const o=this.mem.getUint32(e,!0);return this._values[o]},i=(e,t)=>{if(typeof t=="number"&&t!==0){if(isNaN(t)){this.mem.setUint32(e+4,2146959360,!0),this.mem.setUint32(e,0,!0);return}this.mem.setFloat64(e,t,!0);return}if(t===void 0){this.mem.setFloat64(e,0,!0);return}let a=this._ids.get(t);a===void 0&&(a=this._idPool.pop(),a===void 0&&(a=this._values.length),this._values[a]=t,this._goRefCounts[a]=0,this._ids.set(t,a)),this._goRefCounts[a]++;let d=0;switch(typeof t){case"object":t!==null&&(d=1);break;case"string":d=2;break;case"symbol":d=3;break;case"function":d=4;break}this.mem.setUint32(e+4,2146959360|d,!0),this.mem.setUint32(e,a,!0)},l=e=>{const t=n(e+0),o=n(e+8);return new Uint8Array(this._inst.exports.mem.buffer,t,o)},h=e=>{const t=n(e+0),o=n(e+8),a=new Array(o);for(let d=0;d<o;d++)a[d]=s(t+d*8);return a},u=e=>{const t=n(e+0),o=n(e+8);return m.decode(new DataView(this._inst.exports.mem.buffer,t,o))},g=Date.now()-performance.now();this.importObject={go:{"runtime.wasmExit":e=>{e>>>=0;const t=this.mem.getInt32(e+8,!0);this.exited=!0,delete this._inst,delete this._values,delete this._goRefCounts,delete this._ids,delete this._idPool,this.exit(t)},"runtime.wasmWrite":e=>{e>>>=0;const t=n(e+8),o=n(e+16),a=this.mem.getInt32(e+24,!0);globalThis.fs.writeSync(t,new Uint8Array(this._inst.exports.mem.buffer,o,a))},"runtime.resetMemoryDataView":e=>{e>>>=0,this.mem=new DataView(this._inst.exports.mem.buffer)},"runtime.nanotime1":e=>{e>>>=0,c(e+8,(g+performance.now())*1e6)},"runtime.walltime":e=>{e>>>=0;const t=new Date().getTime();c(e+8,t/1e3),this.mem.setInt32(e+16,t%1e3*1e6,!0)},"runtime.scheduleTimeoutEvent":e=>{e>>>=0;const t=this._nextCallbackTimeoutID;this._nextCallbackTimeoutID++,this._scheduledTimeouts.set(t,setTimeout(()=>{for(this._resume();this._scheduledTimeouts.has(t);)console.warn("scheduleTimeoutEvent: missed timeout event"),this._resume()},n(e+8)+1)),this.mem.setInt32(e+16,t,!0)},"runtime.clearTimeoutEvent":e=>{e>>>=0;const t=this.mem.getInt32(e+8,!0);clearTimeout(this._scheduledTimeouts.get(t)),this._scheduledTimeouts.delete(t)},"runtime.getRandomData":e=>{e>>>=0,crypto.getRandomValues(l(e+8))},"syscall/js.finalizeRef":e=>{e>>>=0;const t=this.mem.getUint32(e+8,!0);if(this._goRefCounts[t]--,this._goRefCounts[t]===0){const o=this._values[t];this._values[t]=null,this._ids.delete(o),this._idPool.push(t)}},"syscall/js.stringVal":e=>{e>>>=0,i(e+24,u(e+8))},"syscall/js.valueGet":e=>{e>>>=0;const t=Reflect.get(s(e+8),u(e+16));e=this._inst.exports.getsp()>>>0,i(e+32,t)},"syscall/js.valueSet":e=>{e>>>=0,Reflect.set(s(e+8),u(e+16),s(e+32))},"syscall/js.valueDelete":e=>{e>>>=0,Reflect.deleteProperty(s(e+8),u(e+16))},"syscall/js.valueIndex":e=>{e>>>=0,i(e+24,Reflect.get(s(e+8),n(e+16)))},"syscall/js.valueSetIndex":e=>{e>>>=0,Reflect.set(s(e+8),n(e+16),s(e+24))},"syscall/js.valueCall":e=>{e>>>=0;try{const t=s(e+8),o=Reflect.get(t,u(e+16)),a=h(e+32),d=Reflect.apply(o,t,a);e=this._inst.exports.getsp()>>>0,i(e+56,d),this.mem.setUint8(e+64,1)}catch(t){e=this._inst.exports.getsp()>>>0,i(e+56,t),this.mem.setUint8(e+64,0)}},"syscall/js.valueInvoke":e=>{e>>>=0;try{const t=s(e+8),o=h(e+16),a=Reflect.apply(t,void 0,o);e=this._inst.exports.getsp()>>>0,i(e+40,a),this.mem.setUint8(e+48,1)}catch(t){e=this._inst.exports.getsp()>>>0,i(e+40,t),this.mem.setUint8(e+48,0)}},"syscall/js.valueNew":e=>{e>>>=0;try{const t=s(e+8),o=h(e+16),a=Reflect.construct(t,o);e=this._inst.exports.getsp()>>>0,i(e+40,a),this.mem.setUint8(e+48,1)}catch(t){e=this._inst.exports.getsp()>>>0,i(e+40,t),this.mem.setUint8(e+48,0)}},"syscall/js.valueLength":e=>{e>>>=0,c(e+16,parseInt(s(e+8).length))},"syscall/js.valuePrepareString":e=>{e>>>=0;const t=f.encode(String(s(e+8)));i(e+16,t),c(e+24,t.length)},"syscall/js.valueLoadString":e=>{e>>>=0;const t=s(e+8);l(e+16).set(t)},"syscall/js.valueInstanceOf":e=>{e>>>=0,this.mem.setUint8(e+24,s(e+8)instanceof s(e+16)?1:0)},"syscall/js.copyBytesToGo":e=>{e>>>=0;const t=l(e+8),o=s(e+32);if(!(o instanceof Uint8Array||o instanceof Uint8ClampedArray)){this.mem.setUint8(e+48,0);return}const a=o.subarray(0,t.length);t.set(a),c(e+40,a.length),this.mem.setUint8(e+48,1)},"syscall/js.copyBytesToJS":e=>{e>>>=0;const t=s(e+8),o=l(e+16);if(!(t instanceof Uint8Array||t instanceof Uint8ClampedArray)){this.mem.setUint8(e+48,0);return}const a=o.subarray(0,t.length);t.set(a),c(e+40,a.length),this.mem.setUint8(e+48,1)},debug:e=>{console.log(e)}}}}run(c){return y(this,null,function*(){if(!(c instanceof WebAssembly.Instance))throw new Error("Go.run: WebAssembly.Instance expected");this._inst=c,this.mem=new DataView(this._inst.exports.mem.buffer),this._values=[NaN,0,null,!0,!1,globalThis,this],this._goRefCounts=new Array(this._values.length).fill(1/0),this._ids=new Map([[0,1],[null,2],[!0,3],[!1,4],[globalThis,5],[this,6]]),this._idPool=[],this.exited=!1;let n=4096;const s=e=>{const t=n,o=f.encode(e+"\0");return new Uint8Array(this.mem.buffer,n,o.length).set(o),n+=o.length,n%8!==0&&(n+=8-n%8),t},i=this.argv.length,l=[];this.argv.forEach(e=>{l.push(s(e))}),l.push(0),Object.keys(this.env).sort().forEach(e=>{l.push(s(`${e}=${this.env[e]}`))}),l.push(0);const u=n;l.forEach(e=>{this.mem.setUint32(n,e,!0),this.mem.setUint32(n+4,0,!0),n+=8});const g=4096+8192;if(n>=g)throw new Error("total length of command line and environment variables exceeds limit");this._inst.exports.run(i,u),this.exited&&this._resolveExitPromise(),yield this._exitPromise})}_resume(){if(this.exited)throw new Error("Go program has already exited");this._inst.exports.resume(),this.exited&&this._resolveExitPromise()}_makeFuncWrapper(c){const n=this;return function(){const s={id:c,this:this,args:arguments};return n._pendingEvent=s,n._resume(),s.result}}}})(),onmessage=({data:r})=>{let f=new TextDecoder,m=globalThis.fs,c="";m.writeSync=(h,u)=>{if(h===1)postMessage(u);else if(h===2){c+=f.decode(u);let g=c.split(`
`);g.length>1&&console.log(g.slice(0,-1).join(`
`)),c=g[g.length-1]}else throw new Error("Bad write");return u.length};let n=[],s,i=0;onmessage=({data:h})=>{h.length>0&&(n.push(h),s&&s())},m.read=(h,u,g,e,t,o)=>{if(h!==0||g!==0||e!==u.length||t!==null)throw new Error("Bad read");if(n.length===0){s=()=>m.read(h,u,g,e,t,o);return}let a=n[0],d=Math.max(0,Math.min(e,a.length-i));u.set(a.subarray(i,i+d),g),i+=d,i===a.length&&(n.shift(),i=0),o(null,d)};let l=new globalThis.Go;l.argv=["","--service=0.17.8"],tryToInstantiateModule(r,l).then(h=>{postMessage(null),l.run(h)},h=>{postMessage(h)})};function tryToInstantiateModule(r,f){return y(this,null,function*(){if(r instanceof WebAssembly.Module)return WebAssembly.instantiate(r,f.importObject);const m=yield fetch(r);if(!m.ok)throw new Error(`Failed to download ${JSON.stringify(r)}`);if("instantiateStreaming"in WebAssembly&&/^application\/wasm($|;)/i.test(m.headers.get("Content-Type")||""))return(yield WebAssembly.instantiateStreaming(m,f.importObject)).instance;const c=yield m.arrayBuffer();return(yield WebAssembly.instantiate(c,f.importObject)).instance})}return r=>onmessage(r);})(v=>i.onmessage({data:v}));i={onmessage:null,postMessage:v=>setTimeout(()=>w({data:v})),terminate(){}}}let u,l,f=new Promise((w,v)=>{u=w,l=v});i.onmessage=({data:w})=>{i.onmessage=({data:v})=>s(v),w?l(w):u()},i.postMessage(e||new URL(t,location.href).toString());let{readFromStdout:s,service:p}=qe({writeToStdin(w){i.postMessage(w)},isSync:!1,hasFS:!1,esbuild:we});yield f,Se={build:w=>new Promise((v,P)=>p.buildOrContext({callName:"build",refs:null,options:w,isTTY:!1,defaultWD:"/",callback:(U,B)=>U?P(U):v(B)})),context:w=>new Promise((v,P)=>p.buildOrContext({callName:"context",refs:null,options:w,isTTY:!1,defaultWD:"/",callback:(U,B)=>U?P(U):v(B)})),transform:(w,v)=>new Promise((P,U)=>p.transform({callName:"transform",refs:null,input:w,options:v||{},isTTY:!1,fs:{readFile(B,j){j(new Error("Internal error"),null)},writeFile(B,j){j(null)}},callback:(B,j)=>B?U(B):P(j)})),formatMessages:(w,v)=>new Promise((P,U)=>p.formatMessages({callName:"formatMessages",refs:null,messages:w,options:v,callback:(B,j)=>B?U(B):P(j)})),analyzeMetafile:(w,v)=>new Promise((P,U)=>p.analyzeMetafile({callName:"analyzeMetafile",refs:null,metafile:typeof w=="string"?w:JSON.stringify(w),options:v,callback:(B,j)=>B?U(B):P(j)}))}}),wt=we;
})(typeof module==="object"?module:{set exports(x){(typeof self!=="undefined"?self:this).esbuild=x}});
