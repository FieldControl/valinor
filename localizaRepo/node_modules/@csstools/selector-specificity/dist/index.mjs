import e from"postcss-selector-parser";function s(t){if(!t)return{a:0,b:0,c:0};let c=0,n=0,o=0;if("universal"==t.type)return{a:0,b:0,c:0};if("id"===t.type)c+=1;else if("tag"===t.type)o+=1;else if("class"===t.type)n+=1;else if("attribute"===t.type)n+=1;else if(function(s){return e.isPseudoElement(s)}(t))o+=1;else if(e.isPseudoClass(t))switch(t.value){case":-moz-any":case":-webkit-any":case":any":case":has":case":is":case":matches":case":not":if(t.nodes&&t.nodes.length>0){const e=a(t.nodes);c+=e.a,n+=e.b,o+=e.c}break;case":where":break;case":nth-child":case":nth-last-child":{n+=1;const s=t.nodes[0].nodes.findIndex((e=>"tag"===e.type&&"of"===e.value));if(s>-1){const l=[e.selector({nodes:t.nodes[0].nodes.slice(s+1),value:""})];t.nodes.length>1&&l.push(...t.nodes.slice(1));const i=a(l);c+=i.a,n+=i.b,o+=i.c}}break;case":local":case":global":t.nodes.forEach((e=>{const a=s(e);c+=a.a,n+=a.b,o+=a.c}));break;default:n+=1}else e.isContainer(t)&&t.nodes.length>0&&t.nodes.forEach((e=>{const a=s(e);c+=a.a,n+=a.b,o+=a.c}));return{a:c,b:n,c:o}}function a(e){let a={a:0,b:0,c:0};return e.forEach((e=>{const t=s(e);t.a>a.a?a=t:t.a<a.a||(t.b>a.b?a=t:t.b<a.b||t.c>a.c&&(a=t))})),a}export{s as default};
