<div class="column-wrapper">

  <div class="column-header group">
    <h3 class="column-title">{{ column.title }}</h3>

    <button (click)="onEditModalOpen()" class="text-gray-400 hover:text-blue-600 p-1 rounded hover:bg-blue-50 transition-all" title="Editar">
      <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"></path>
      </svg>
    </button>

    <button (click)="onRemoveModalOpen()" class="text-gray-400 hover:text-red-600 p-1 rounded hover:bg-red-50 transition-all" title="Arquivar">
      <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <rect x="3" y="4" width="18" height="18" rx="2" ry="2">

        </rect>
        <line x1="16" y1="2" x2="16" y2="6">

        </line>
        <line x1="8" y1="2" x2="8" y2="6">

        </line>
        <line x1="3" y1="10" x2="21" y2="10">

        </line>
      </svg>
    </button>
  </div>

  <div 
    class="cards-list"
    cdkDropList
    [cdkDropListData]="column.cards"
    (cdkDropListDropped)="drop($event)"
    [id]="column.id"
  >
    @for (card of column.cards; track card.id) {
      <app-cards 
        [card]="card"
        (editCardModalOpen)="editCardModalOpen.emit($event)"
        (removeCardModalOpen)="removeCardModalOpen.emit($event)"

        cdkDrag
        [cdkDragData]="card"
      >
      </app-cards>
      <div *cdkDragPlaceholder class="bg-gray-200 border-2 border-dashed border-gray-400 h-20 rounded mb-2"></div>
    }
  </div>

  <div class="column-footer">
    <button class="btn-add-card" (click)="createCardModalOpen.emit(column.id)"> 
      + Adicionar Card
    </button>
  </div>
  
</div>