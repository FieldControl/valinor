/**
 * @description
 * Associates actions with a given state change function.
 * A state change function must be provided as the last parameter.
 *
 * @param args `ActionCreator`'s followed by a state change function.
 *
 * @returns an association of action types with a state change function.
 *
 * @usageNotes
 * ```ts
 * on(AuthApiActions.loginSuccess, (state, { user }) => ({ ...state, user }))
 * ```
 */
export function on(...args) {
    const reducer = args.pop();
    const types = args.map((creator) => creator.type);
    return { reducer, types };
}
/**
 * @description
 * Creates a reducer function to handle state transitions.
 *
 * Reducer creators reduce the explicitness of reducer functions with switch statements.
 *
 * @param initialState Provides a state value if the current state is `undefined`, as it is initially.
 * @param ons Associations between actions and state changes.
 * @returns A reducer function.
 *
 * @usageNotes
 *
 * - Must be used with `ActionCreator`'s (returned by `createAction`). Cannot be used with class-based action creators.
 * - The returned `ActionReducer` does not require being wrapped with another function.
 *
 * **Declaring a reducer creator**
 *
 * ```ts
 * export const reducer = createReducer(
 *   initialState,
 *   on(
 *     featureActions.actionOne,
 *     featureActions.actionTwo,
 *     (state, { updatedValue }) => ({ ...state, prop: updatedValue })
 *   ),
 *   on(featureActions.actionThree, () => initialState);
 * );
 * ```
 */
export function createReducer(initialState, ...ons) {
    const map = new Map();
    for (const on of ons) {
        for (const type of on.types) {
            const existingReducer = map.get(type);
            if (existingReducer) {
                const newReducer = (state, action) => on.reducer(existingReducer(state, action), action);
                map.set(type, newReducer);
            }
            else {
                map.set(type, on.reducer);
            }
        }
    }
    return function (state = initialState, action) {
        const reducer = map.get(action.type);
        return reducer ? reducer(state, action) : state;
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVkdWNlcl9jcmVhdG9yLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vbW9kdWxlcy9zdG9yZS9zcmMvcmVkdWNlcl9jcmVhdG9yLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQXlDQTs7Ozs7Ozs7Ozs7OztHQWFHO0FBQ0gsTUFBTSxVQUFVLEVBQUUsQ0FVaEIsR0FBRyxJQU9GO0lBRUQsTUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDLEdBQUcsRUFHdkIsQ0FBQztJQUNGLE1BQU0sS0FBSyxHQUFJLElBQTRCLENBQUMsR0FBRyxDQUM3QyxDQUFDLE9BQU8sRUFBRSxFQUFFLENBQUMsT0FBTyxDQUFDLElBQUksQ0FDaUIsQ0FBQztJQUM3QyxPQUFPLEVBQUUsT0FBTyxFQUFFLEtBQUssRUFBRSxDQUFDO0FBQzVCLENBQUM7QUFFRDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQTRCRztBQUNILE1BQU0sVUFBVSxhQUFhLENBTzNCLFlBQWUsRUFBRSxHQUFHLEdBQWdEO0lBQ3BFLE1BQU0sR0FBRyxHQUFHLElBQUksR0FBRyxFQUF5QyxDQUFDO0lBQzdELEtBQUssTUFBTSxFQUFFLElBQUksR0FBRyxFQUFFLENBQUM7UUFDckIsS0FBSyxNQUFNLElBQUksSUFBSSxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUM7WUFDNUIsTUFBTSxlQUFlLEdBQUcsR0FBRyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUN0QyxJQUFJLGVBQWUsRUFBRSxDQUFDO2dCQUNwQixNQUFNLFVBQVUsR0FBMkIsQ0FBQyxLQUFLLEVBQUUsTUFBTSxFQUFFLEVBQUUsQ0FDM0QsRUFBRSxDQUFDLE9BQU8sQ0FBQyxlQUFlLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxFQUFFLE1BQU0sQ0FBQyxDQUFDO2dCQUNyRCxHQUFHLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxVQUFVLENBQUMsQ0FBQztZQUM1QixDQUFDO2lCQUFNLENBQUM7Z0JBQ04sR0FBRyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQzVCLENBQUM7UUFDSCxDQUFDO0lBQ0gsQ0FBQztJQUVELE9BQU8sVUFBVSxRQUFXLFlBQVksRUFBRSxNQUFTO1FBQ2pELE1BQU0sT0FBTyxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3JDLE9BQU8sT0FBTyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7SUFDbEQsQ0FBTSxDQUFDO0FBQ1QsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFjdGlvbkNyZWF0b3IsIEFjdGlvblJlZHVjZXIsIEFjdGlvblR5cGUsIEFjdGlvbiB9IGZyb20gJy4vbW9kZWxzJztcblxuLy8gR29lcyBvdmVyIHRoZSBhcnJheSBvZiBBY3Rpb25DcmVhdG9ycywgcHVsbHMgdGhlIGFjdGlvbiB0eXBlIG91dCBvZiBlYWNoIG9uZVxuLy8gYW5kIHJldHVybnMgdGhlIGFycmF5IG9mIHRoZXNlIGFjdGlvbiB0eXBlcy5cbnR5cGUgRXh0cmFjdEFjdGlvblR5cGVzPENyZWF0b3JzIGV4dGVuZHMgcmVhZG9ubHkgQWN0aW9uQ3JlYXRvcltdPiA9IHtcbiAgW0tleSBpbiBrZXlvZiBDcmVhdG9yc106IENyZWF0b3JzW0tleV0gZXh0ZW5kcyBBY3Rpb25DcmVhdG9yPGluZmVyIFQ+XG4gICAgPyBUXG4gICAgOiBuZXZlcjtcbn07XG5cbi8qKlxuICogUmV0dXJuIHR5cGUgb2YgdGhlIGBvbmAgZm4uXG4gKiBDb250YWlucyB0aGUgYWN0aW9uIHJlZHVjZXIgY291cGxlZCB0byBvbmUgb3IgbW9yZSBhY3Rpb24gdHlwZXMuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVkdWNlclR5cGVzPFxuICBTdGF0ZSxcbiAgQ3JlYXRvcnMgZXh0ZW5kcyByZWFkb25seSBBY3Rpb25DcmVhdG9yW11cbj4ge1xuICByZWR1Y2VyOiBPblJlZHVjZXI8U3RhdGUsIENyZWF0b3JzPjtcbiAgdHlwZXM6IEV4dHJhY3RBY3Rpb25UeXBlczxDcmVhdG9ycz47XG59XG5cbi8qKlxuICogIFNwZWNpYWxpemVkIFJlZHVjZXIgdGhhdCBpcyBhd2FyZSBvZiB0aGUgQWN0aW9uIHR5cGUgaXQgbmVlZHMgdG8gaGFuZGxlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgT25SZWR1Y2VyPFxuICAvLyBTdGF0ZSB0eXBlIHRoYXQgaXMgYmVpbmcgcGFzc2VkIGZyb20gY29uc3VtZXIgb2YgYG9uYCBmbiwgZS5nLiBmcm9tIGBjcmVhdGVSZWR1Y2VyYCBmYWN0b3J5XG4gIFN0YXRlLFxuICBDcmVhdG9ycyBleHRlbmRzIHJlYWRvbmx5IEFjdGlvbkNyZWF0b3JbXSxcbiAgLy8gSW5mZXJyZWQgdHlwZSBmcm9tIHdpdGhpbiBPblJlZHVjZXIgZnVuY3Rpb24gaWYgYFN0YXRlYCBpcyB1bmtub3duXG4gIEluZmVycmVkU3RhdGUgPSBTdGF0ZSxcbiAgLy8gUmVzdWx0aW5nIHN0YXRlIHdvdWxkIGJlIGVpdGhlciBhIFN0YXRlIG9yIGlmIFN0YXRlIGlzIHVua25vd24gdGhlbiB0aGUgaW5mZXJyZWQgc3RhdGUgZnJvbSB0aGUgZnVuY3Rpb24gaXRzZWxmXG4gIFJlc3VsdFN0YXRlID0gdW5rbm93biBleHRlbmRzIFN0YXRlID8gSW5mZXJyZWRTdGF0ZSA6IFN0YXRlXG4+IHtcbiAgKFxuICAgIC8vIGlmIFN0YXRlIGlzIHVua25vd24gdGhlbiBzZXQgdGhlIEluZmVycmVkU3RhdGUgdHlwZVxuICAgIHN0YXRlOiB1bmtub3duIGV4dGVuZHMgU3RhdGUgPyBJbmZlcnJlZFN0YXRlIDogU3RhdGUsXG4gICAgYWN0aW9uOiBBY3Rpb25UeXBlPENyZWF0b3JzW251bWJlcl0+XG4gICk6IFJlc3VsdFN0YXRlO1xufVxuXG4vKipcbiAqIEBkZXNjcmlwdGlvblxuICogQXNzb2NpYXRlcyBhY3Rpb25zIHdpdGggYSBnaXZlbiBzdGF0ZSBjaGFuZ2UgZnVuY3Rpb24uXG4gKiBBIHN0YXRlIGNoYW5nZSBmdW5jdGlvbiBtdXN0IGJlIHByb3ZpZGVkIGFzIHRoZSBsYXN0IHBhcmFtZXRlci5cbiAqXG4gKiBAcGFyYW0gYXJncyBgQWN0aW9uQ3JlYXRvcmAncyBmb2xsb3dlZCBieSBhIHN0YXRlIGNoYW5nZSBmdW5jdGlvbi5cbiAqXG4gKiBAcmV0dXJucyBhbiBhc3NvY2lhdGlvbiBvZiBhY3Rpb24gdHlwZXMgd2l0aCBhIHN0YXRlIGNoYW5nZSBmdW5jdGlvbi5cbiAqXG4gKiBAdXNhZ2VOb3Rlc1xuICogYGBgdHNcbiAqIG9uKEF1dGhBcGlBY3Rpb25zLmxvZ2luU3VjY2VzcywgKHN0YXRlLCB7IHVzZXIgfSkgPT4gKHsgLi4uc3RhdGUsIHVzZXIgfSkpXG4gKiBgYGBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9uPFxuICAvLyBTdGF0ZSB0eXBlIHRoYXQgaXMgYmVpbmcgcGFzc2VkIGZyb20gYGNyZWF0ZVJlZHVjZXJgIHdoZW4gY3JlYXRlZCB3aXRoaW4gdGhhdCBmYWN0b3J5IGZ1bmN0aW9uXG4gIFN0YXRlLFxuICAvLyBBY3Rpb24gY3JlYXRvcnNcbiAgQ3JlYXRvcnMgZXh0ZW5kcyByZWFkb25seSBBY3Rpb25DcmVhdG9yW10sXG4gIC8vIEluZmVycmVkIHR5cGUgZnJvbSB3aXRoaW4gT25SZWR1Y2VyIGZ1bmN0aW9uIGlmIGBTdGF0ZWAgaXMgdW5rbm93bi4gVGhpcyBpcyB0eXBpY2FsbHkgdGhlIGNhc2Ugd2hlbiBgb25gIGZ1bmN0aW9uXG4gIC8vIGlzIGNyZWF0ZWQgb3V0c2lkZSBvZiBgY3JlYXRlUmVkdWNlcmAgYW5kIHN0YXRlIHR5cGUgaXMgZWl0aGVyIGV4cGxpY2l0bHkgc2V0IE9SIGluZmVycmVkIGJ5IHJldHVybiB0eXBlLlxuICAvLyBGb3IgZXhhbXBsZTogYGNvbnN0IG9uRm4gPSBvbihhY3Rpb24sIChzdGF0ZTogU3RhdGUsIHtwcm9wfSkgPT4gKHsgLi4uc3RhdGUsIG5hbWU6IHByb3AgfSkpO2BcbiAgSW5mZXJyZWRTdGF0ZSA9IFN0YXRlXG4+KFxuICAuLi5hcmdzOiBbXG4gICAgLi4uY3JlYXRvcnM6IENyZWF0b3JzLFxuICAgIHJlZHVjZXI6IE9uUmVkdWNlcjxcbiAgICAgIFN0YXRlIGV4dGVuZHMgaW5mZXIgUyA/IFMgOiBuZXZlcixcbiAgICAgIENyZWF0b3JzLFxuICAgICAgSW5mZXJyZWRTdGF0ZVxuICAgID5cbiAgXVxuKTogUmVkdWNlclR5cGVzPHVua25vd24gZXh0ZW5kcyBTdGF0ZSA/IEluZmVycmVkU3RhdGUgOiBTdGF0ZSwgQ3JlYXRvcnM+IHtcbiAgY29uc3QgcmVkdWNlciA9IGFyZ3MucG9wKCkgYXMgdW5rbm93biBhcyBPblJlZHVjZXI8XG4gICAgdW5rbm93biBleHRlbmRzIFN0YXRlID8gSW5mZXJyZWRTdGF0ZSA6IFN0YXRlLFxuICAgIENyZWF0b3JzXG4gID47XG4gIGNvbnN0IHR5cGVzID0gKGFyZ3MgYXMgdW5rbm93biBhcyBDcmVhdG9ycykubWFwKFxuICAgIChjcmVhdG9yKSA9PiBjcmVhdG9yLnR5cGVcbiAgKSBhcyB1bmtub3duIGFzIEV4dHJhY3RBY3Rpb25UeXBlczxDcmVhdG9ycz47XG4gIHJldHVybiB7IHJlZHVjZXIsIHR5cGVzIH07XG59XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uXG4gKiBDcmVhdGVzIGEgcmVkdWNlciBmdW5jdGlvbiB0byBoYW5kbGUgc3RhdGUgdHJhbnNpdGlvbnMuXG4gKlxuICogUmVkdWNlciBjcmVhdG9ycyByZWR1Y2UgdGhlIGV4cGxpY2l0bmVzcyBvZiByZWR1Y2VyIGZ1bmN0aW9ucyB3aXRoIHN3aXRjaCBzdGF0ZW1lbnRzLlxuICpcbiAqIEBwYXJhbSBpbml0aWFsU3RhdGUgUHJvdmlkZXMgYSBzdGF0ZSB2YWx1ZSBpZiB0aGUgY3VycmVudCBzdGF0ZSBpcyBgdW5kZWZpbmVkYCwgYXMgaXQgaXMgaW5pdGlhbGx5LlxuICogQHBhcmFtIG9ucyBBc3NvY2lhdGlvbnMgYmV0d2VlbiBhY3Rpb25zIGFuZCBzdGF0ZSBjaGFuZ2VzLlxuICogQHJldHVybnMgQSByZWR1Y2VyIGZ1bmN0aW9uLlxuICpcbiAqIEB1c2FnZU5vdGVzXG4gKlxuICogLSBNdXN0IGJlIHVzZWQgd2l0aCBgQWN0aW9uQ3JlYXRvcmAncyAocmV0dXJuZWQgYnkgYGNyZWF0ZUFjdGlvbmApLiBDYW5ub3QgYmUgdXNlZCB3aXRoIGNsYXNzLWJhc2VkIGFjdGlvbiBjcmVhdG9ycy5cbiAqIC0gVGhlIHJldHVybmVkIGBBY3Rpb25SZWR1Y2VyYCBkb2VzIG5vdCByZXF1aXJlIGJlaW5nIHdyYXBwZWQgd2l0aCBhbm90aGVyIGZ1bmN0aW9uLlxuICpcbiAqICoqRGVjbGFyaW5nIGEgcmVkdWNlciBjcmVhdG9yKipcbiAqXG4gKiBgYGB0c1xuICogZXhwb3J0IGNvbnN0IHJlZHVjZXIgPSBjcmVhdGVSZWR1Y2VyKFxuICogICBpbml0aWFsU3RhdGUsXG4gKiAgIG9uKFxuICogICAgIGZlYXR1cmVBY3Rpb25zLmFjdGlvbk9uZSxcbiAqICAgICBmZWF0dXJlQWN0aW9ucy5hY3Rpb25Ud28sXG4gKiAgICAgKHN0YXRlLCB7IHVwZGF0ZWRWYWx1ZSB9KSA9PiAoeyAuLi5zdGF0ZSwgcHJvcDogdXBkYXRlZFZhbHVlIH0pXG4gKiAgICksXG4gKiAgIG9uKGZlYXR1cmVBY3Rpb25zLmFjdGlvblRocmVlLCAoKSA9PiBpbml0aWFsU3RhdGUpO1xuICogKTtcbiAqIGBgYFxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUmVkdWNlcjxcbiAgUyxcbiAgQSBleHRlbmRzIEFjdGlvbiA9IEFjdGlvbixcbiAgLy8gQWRkaXRpb25hbCBnZW5lcmljIGZvciB0aGUgcmV0dXJuIHR5cGUgaXMgaW50cm9kdWNlZCB0byBlbmFibGUgY29ycmVjdFxuICAvLyB0eXBlIGluZmVyZW5jZSB3aGVuIGBjcmVhdGVSZWR1Y2VyYCBpcyB1c2VkIHdpdGhpbiBgY3JlYXRlRmVhdHVyZWAuXG4gIC8vIEZvciBtb3JlIGluZm8gc2VlOiBodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzUyMTE0XG4gIFIgZXh0ZW5kcyBBY3Rpb25SZWR1Y2VyPFMsIEE+ID0gQWN0aW9uUmVkdWNlcjxTLCBBPlxuPihpbml0aWFsU3RhdGU6IFMsIC4uLm9uczogUmVkdWNlclR5cGVzPFMsIHJlYWRvbmx5IEFjdGlvbkNyZWF0b3JbXT5bXSk6IFIge1xuICBjb25zdCBtYXAgPSBuZXcgTWFwPHN0cmluZywgT25SZWR1Y2VyPFMsIEFjdGlvbkNyZWF0b3JbXT4+KCk7XG4gIGZvciAoY29uc3Qgb24gb2Ygb25zKSB7XG4gICAgZm9yIChjb25zdCB0eXBlIG9mIG9uLnR5cGVzKSB7XG4gICAgICBjb25zdCBleGlzdGluZ1JlZHVjZXIgPSBtYXAuZ2V0KHR5cGUpO1xuICAgICAgaWYgKGV4aXN0aW5nUmVkdWNlcikge1xuICAgICAgICBjb25zdCBuZXdSZWR1Y2VyOiB0eXBlb2YgZXhpc3RpbmdSZWR1Y2VyID0gKHN0YXRlLCBhY3Rpb24pID0+XG4gICAgICAgICAgb24ucmVkdWNlcihleGlzdGluZ1JlZHVjZXIoc3RhdGUsIGFjdGlvbiksIGFjdGlvbik7XG4gICAgICAgIG1hcC5zZXQodHlwZSwgbmV3UmVkdWNlcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtYXAuc2V0KHR5cGUsIG9uLnJlZHVjZXIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoc3RhdGU6IFMgPSBpbml0aWFsU3RhdGUsIGFjdGlvbjogQSk6IFMge1xuICAgIGNvbnN0IHJlZHVjZXIgPSBtYXAuZ2V0KGFjdGlvbi50eXBlKTtcbiAgICByZXR1cm4gcmVkdWNlciA/IHJlZHVjZXIoc3RhdGUsIGFjdGlvbikgOiBzdGF0ZTtcbiAgfSBhcyBSO1xufVxuIl19