import { CacheItem } from './cache-item';
import { debug } from '../config/config';
var Cache = /** @class */ (function () {
    function Cache() {
    }
    Cache.getCacheFor = function (cacheCandidate) {
        var cacheItem = this.get(cacheCandidate.key);
        if (!cacheItem) {
            debug.log('Created new CacheItem for ' + cacheCandidate.name);
            cacheItem = new CacheItem(cacheCandidate);
            this.set(cacheItem);
            return cacheItem;
        }
        debug.log('Loaded prior CacheItem of ' + cacheItem.name);
        cacheItem.addTargets(cacheCandidate.targets);
        cacheItem.addServices(cacheCandidate.services);
        cacheItem.addUtilities(cacheCandidate.utilities);
        this.set(cacheItem);
        return cacheItem;
    };
    Cache.remove = function (cacheItem) {
        return this.items.delete(cacheItem.key);
    };
    Cache.get = function (key) {
        return this.items.get(key);
    };
    Cache.set = function (cacheItem) {
        if (!this.get(cacheItem.key)) {
            debug.log('CacheItem for ' + cacheItem.key, cacheItem);
        }
        this.items.set(cacheItem.key, cacheItem);
    };
    Cache.items = new Map();
    return Cache;
}());
export { Cache };
//# sourceMappingURL=cache.js.map