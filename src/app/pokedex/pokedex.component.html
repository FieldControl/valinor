<div class="container py-4">
    <div class="row mt-4 mb-2">
        <div class="col-6">
            <h2>Pokemons</h2>
        </div>
        <div class="col-6">
            <div class="input-group mb-3" style="max-width: 500px;">
                <input [(ngModel)]="pokemonPesquisado" type="text" class="form-control"
                    placeholder="Procure um pokemon..." aria-label="Procure um pokemon..."
                    aria-describedby="button-addon2">
                <button class="btn btn-outline-secondary" type="button" id="button-addon2" (click)="buscarPokemon()">
                    <img src="../../assets/search.svg">
                </button>
            </div>
        </div>
    </div>
    <div class="row" *ngIf="!pokemonNaoEncontrado">
        <div class="col-6" *ngFor="let pokemon of pokemons">
            <div class="card mb-3" style="max-width: 500px;" data-bs-toggle="modal" data-bs-target="#modalInformacoesPokemon"
                (click)="dadosDoPokemon=pokemon">
                <div class="row g-0">
                    <div class="col-md-4 bg-success-subtle">
                        <img class="img-fluid w-100 bg-dark-subtle"
                            [src]="pokemon.dadosCompletos?.sprites?.front_default">
                    </div>
                    <div class="col-md-8">
                        <div class="card-body h-100 d-flex flex-column">
                            <h5 class="card-title titulo-padrao m-0">{{pokemon.name}}</h5>
                            <p class="card-text">
                                <small
                                    class="text-body-secondary">NÂº{{pokemon.dadosCompletos?.id.toString().padStart(4,'0')}}</small>
                            </p>
                            <div class="d-flex flex-row justify-content-end mt-auto">
                                <span *ngFor="let type of pokemon.dadosCompletos?.types"
                                    class="badge rounded-pill cor-{{type.type.name}} ms-2 px-3">{{type.type.name}}</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="d-flex justify-content-center mt-2" *ngIf="pokemons.length > 1 && !pokemonNaoEncontrado">
        <button class="btn btn-secondary" (click)="exibirMaisPokemons()">Exibir mais</button>
    </div>
    <div *ngIf="pokemonNaoEncontrado">
        <app-alerta-nao-encontrado></app-alerta-nao-encontrado>
    </div>
    <div class="modal fade" id="modalInformacoesPokemon" tabindex="-1" aria-hidden="true" [hidden]="dadosDoPokemon.length>0">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5">{{dadosDoPokemon.name}}</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <app-informacoes-pokemon [dadosDoPokemon]="dadosDoPokemon"></app-informacoes-pokemon>
                </div>
            </div>
        </div>
    </div>
</div>