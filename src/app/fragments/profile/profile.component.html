<div class="card" [@appeard]="state">
  <ng-container *ngIf="profile">
    <div class="profile" *ngIf="!isMobile">
      <p *ngIf="profile.location">
        <i class="fa fa-map-marker" matTooltipPosition="left" matTooltip="Localização"></i>
        {{ profile.location }}
      </p>

      <p *ngIf="profile.company">
        <i class="fa fa-building-o" matTooltipPosition="left" matTooltip="Empresa"></i>
        {{ profile.company }}
      </p>

      <p *ngIf="profile.blog" (click)="goTo(profile.blog)" class="link">
        <i class="fa fa-link" matTooltipPosition="left" matTooltip="Link"></i>
        {{ profile.blog }}
      </p>

      <p *ngIf="profile.email">
        <i class="fa fa-envelope-o" matTooltipPosition="left" matTooltip="Email"></i>
        {{ profile.email }}
      </p>

      <p *ngIf="profile.twitter_username" (click)="goTwitter(profile.twitter_username)" class="link">
        <i class="fa fa-twitter" matTooltipPosition="left" matTooltip="Twitter"></i>
        @{{profile.twitter_username }}
      </p>
    </div>
  </ng-container>

  <div class="profile-img">
    <img *ngIf="profile?.avatar_url" [src]="profile.avatar_url">
  </div>

  <div class="profile-content">
    <ng-container *ngIf="profile">
      <h2 *ngIf="profile.name">{{ profile.name }}</h2>
      <p *ngIf="profile.bio && !isMobile">{{ profile.bio }}</p>

      <div class="principal">
        <h3 *ngIf="profile.followers">
          <i class="fa fa-users" matTooltip="{{ profile.followers > 1 ? profile.followers + ' Seguidores' : profile.followers + ' Seguidor' }}"></i>
          {{ profile.followers }}
        </h3>

        <h3 *ngIf="profile.following">
          <i class="fa fa-user" matTooltip="{{ profile.following + ' Seguindo' }}"></i>
          {{ profile.following }}
        </h3>

        <h3 *ngIf="profile.login"><i class="fa fa-user-circle-o" matTooltip="Usuário"></i> {{ profile.login }}</h3>
      </div>

      <div class="secondary">
        <h3 *ngIf="profile.public_repos">{{ profile.public_repos > 1 ? profile.public_repos + ' repositórios encontrados' : profile.public_repos + ' repositório encontrado' }}</h3>
      </div>

      <div class="buttons">
        <app-button 
          *ngIf="profile.html_url" 
          [class.me-3]="!isMobile" theme="{{ isMobile ? 'outline' : 'primary' }}" 
          icon="fa fa-github-alt" 
          label="Ver Perfil" 
          (click)="goTo(profile.html_url)">
        </app-button>

        <app-button 
          *ngIf="profile.login && !isLoading" 
          theme="{{ isMobile ? 'outline' : 'primary' }}"
          icon="fa fa-code-fork"
          id="button-repos" 
          label="Ver Repositórios" 
          (click)="goRepos(profile.login)">
        </app-button>

        <app-spinner *ngIf="isLoading" label="Carregando repositórios..." [size]="1.3"> </app-spinner>
      </div>
    </ng-container>
  </div>
</div>